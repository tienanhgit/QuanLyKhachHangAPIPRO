@{
    ViewBag.Title = "Contact";

}




<div class="container border border-primary">
    <!-- header  -->
    <div class="row header-main">
        <div class="menu-left col-md-10 ">
            <div class="blue_text">
                <span>DANH MỤC TIÊU CHÍ KHÁCH HÀNG </span><span ng-bind="'('+datacount+')'"></span>&nbsp;
                <i class="fas fa-angle-down"></i>
            </div>
        </div>
        <div class="menu-right col-md-2" style="display:flex;justify-content:flex-end ">
            <div><button class="btn2" ng-click="funcReload()"><span style="font-size:1.23em;" class="glyphicon glyphicon-refresh blue_text"></span></button></div>
                
            <div>
                <button class="btn2" data-toggle="modal" data-target="#myModal"
                        ng-click="ThemMoi()">
                    <i style="font-size:1.23em;" class="glyphicon glyphicon-plus-sign blue_text "></i>
                </button>
            </div>

            <div><button class="btn2"> <span><i style="font-size:1.23em;" class="glyphicon glyphicon-edit blue_text"></i></span></button></div>
            <div><button class="btn2"><span ng-click="delete()"><i class="glyphicon glyphicon-trash" style="color:red;font-size:1.23em"></i></span></button> </div>
        </div>
    </div>
    <!-- Tim kiem -->
    <div class="row search-main" style="display:flex; ">
        <div class="" style="width:100%"><input ng-model="textSearch" style="width:100%;height:35px;" name="" placeholder="Nhập từ khóa tìm kiếm"></div>
        <div ng-click="funcSearch(textSearch)" class="" style="background:#005E9C;width:35px; display:flex; align-items:center;justify-content:center"><i class="glyphicon glyphicon-search" style="color:white;font-size: 20px;"></i></div>
    </div>
    <div class="content">
        <div class="table-responsive row">
            <table id="tb1" class="table table-striped table-bordered table-hover col-xs-12">
                <tr>
                    <th scope="col">STT</th>
                    <th scope="col" id="sort_by_id" style="text-align:center">
                        <input type="checkbox" ng-change="toggleAll()" ng-model="isAllSelected" name="">
                    </th>
                    <th></th>
                    <th style="color:#005E9C" ng-click="sortBy('Nam')"><span>Năm</span></th>
                    <th>Tên chỉ tiêu</th>
                    <th>Tên chỉ tiêu 2</th>
                    <th>Tháng 1</th>
                    <th>Tháng 2</th>
                    <th>Tháng 3</th>
                    <th>Tháng 4</th>
                    <th>Tháng 5</th>
                    <th>Tháng 6</th>
                    <th>Tháng 7</th>
                    <th>Tháng 8</th>
                    <th>Tháng 9</th>
                    <th>Tháng 10</th>
                    <th>Tháng 11</th>
                    <th>Tháng 12</th>
                </tr>
                <tbody id="tbmain">
                    <tr ng-repeat="ChiTieu in arr_temp|orderBy:propertyName:reverse" ng-dblclick="FunctionEdit(ChiTieu.Ma_Chi_Tieu)">
                        <td style="text-align:center" ng-bind="$index+1"></td>
                        <td style="text-align:center"> <input type="checkbox"  ng-change="optionToggled()" ng-model="ChiTieu.selected"/></td>
                        <td><i style="color:red" class="glyphicon glyphicon-trash" ng-click="DeleteOneRow(ChiTieu.Ma_Chi_Tieu)"></i></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Nam" ></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Ten_Chi_Tieu"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Ten_Chi_Tieu2"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Thang1"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Thang2"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Thang3"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Thang4"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Thang5"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Thang6"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Thang7"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Thang8"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Thang9"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Thang10"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Thang11"></td>
                        <td style="text-align:center" ng-bind="ChiTieu.Thang12"></td>

                    </tr>

                </tbody>
            </table>
        </div>
    </div>
</div>


<!--Model-->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" style="text-align: center;color:#93BDE0">Thêm chỉ tiêu khách hàng</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-3 col-xs-3 col-lg-3 col-sm-3">
                        <span>Năm</span> <span style="color:red;">*</span><br />
                        <input ng-model="Nam_add" type="text" style="width:100%" />
                    </div>
                    <div class="col-md-9  col-xs-9 col-lg-9 col-sm-9">
                        <span>Tên chỉ tiêu</span> <span style="color:red">*</span><br />
                        <input ng-model="Ten_Chi_Tieu_add" type="text" style="width:100%" />
                    </div>

                </div>
                <div class="row">
                    <div class="col-md-12">
                        <span>Tên chỉ tiêu 2</span> <span style="color:red">*</span><br />
                        <input ng-model="Ten_Chi_Tieu2_add" type="text" style="width:100%" />
                    </div>

                </div>
     
                <div class="row top-20">
                    <div class="col-md-3  col-xs-3 col-lg-3 col-sm-3">
                        <span>Trạng Thái</span><br />
                        <select style="height:30px" class="TT" ng-model="Trang_Thai_add">
                            <option>Sử dụng</option>
                            <option>Không sử dụng</option>
                        </select>

                    </div>

                </div>
                <div class="row top-20">
                    <div class="col-md-3  col-xs-3 col-lg-3 col-sm-3">
                        <button style="background: #005E9C" class="btn2" data-toggle="modal" data-target="#myModal2"
                                ng-click="ThemMoi2()">
                            <span style="color:white">Thêm nhân viên</span>
                        </button>
                    </div>

                </div>
                <div class="row" style="margin-top:8px;">
                    <div class="col-md-12">
                        <div class="table-responsive ">
                            <table id="tb1" class="table table-striped table-bordered table-hover col-xs-12">
                                <tr>
                                    <th>STT</th>
                                    <th></th>
                                    <th></th>
                                    <th>Nhân viên</th>

                                    <th>Tháng 1</th>
                                    <th>Tháng 2</th>
                                    <th>Tháng 3</th>
                                    <th>Tháng 4</th>
                                    <th>Tháng 5</th>
                                    <th>Tháng 6</th>
                                    <th>Tháng 7</th>
                                    <th>Tháng 8</th>
                                    <th>Tháng 9</th>
                                    <th>Tháng 10</th>
                                    <th>Tháng 11</th>
                                    <th>Tháng 12</th>
                                </tr>
                                <tbody id="tb">
                                    <tr ng-repeat="ChiTieuCT in arr_temp_CT ">
                                        <td style="text-align:center" ng-bind="$index+1"></td>
                                        <td>
                                            <i class="glyphicon glyphicon-pencil" style="color:#005E9C" ng-click="UpdateNhanVien()"></i>
                                        </td>
                                        <td><i class="glyphicon glyphicon-trash" style="color:red" ng-click="deleteItemNV(ChiTieuCT.Ma_NV,ChiTieuCT.Ma_Chi_Tieu)"></i></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Ma_NV"></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Thang1"></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Thang2"></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Thang3"></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Thang4"></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Thang5"></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Thang6"></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Thang7"></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Thang8"></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Thang9"></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Thang10"></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Thang11"></td>
                                        <td style="text-align:center" ng-bind="ChiTieuCT.Thang12"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>
                @*end table*@

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="LuuBtn" ng-click="Save()" data-dismiss="modal">Lưu lại</button>
                <button type="button" class="btn btn-primary" id="luuvathembtn"  ng-click="LuuVaThem()" data-dismiss="modal">Lưu & thêm</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Đóng</button>
            </div>
        </div>

    </div>
</div>

@*model thu 2*@
<div class="modal fade" id="myModal2" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" style="text-align: center;color:#93BDE0">Nhân viên</h4>
            </div>
            <div class="modal-body">
                <form name="FormNhanVien">
                <div class="row">
                    <div class="col-lg-12">
                        <span>Nhân viên</span> <span>*</span><br />
                        <input type="text" name="manvadd" ng-model="Ma_NV_add" required />
                       <small ng-show="FormNhanVien.manvadd.$invalid" style="color: red;">Vui lòng nhập mã nhân viên</small>
                    </div>
                </div>

                <div class="row" style="margin-top:15px" >

                    <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3">
                        <span>Tháng 1</span><br />
                        <input type="text" style="width:100%" name="thang1" ng-model="thang1_add" ng-pattern="/^[0-9]{1,7}$/" />
                        <small ng-show="FormNhanVien.thang1.$invalid" style="color: red;">Hãy nhập vào số !</small>
                    </div>
                    <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3">
                        <span>Tháng 2</span><br />
                        <input type="text" name="thang2" style="width:100%" ng-model="thang2_add" ng-pattern="/^[0-9]{1,7}$/" />
                        <small ng-show="FormNhanVien.thang2.$invalid" style="color: red;">Hãy nhập vào số !</small>
                    </div>
                    <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3">
                        <span>Tháng 3</span><br />
                        <input type="text" name="thang3" style="width:100%" ng-model="thang3_add" ng-pattern="/^[0-9]{1,7}$/"/>
                        <small ng-show="FormNhanVien.thang3.$invalid" style="color: red;">Hãy nhập vào số !</small>
                    </div>
                    <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3">
                        <span>Tháng 4</span><br />
                        <input type="text" style="width:100%" ng-model="thang4_add" ng-pattern="/^[0-9]{1,7}$/" />
                    </div>

                </div>
                <div class="row" style="margin-top:25px">

                    <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3">
                        <span>Tháng 5</span><br />
                        <input type="text" style="width:100%" ng-model="thang5_add" />
                    </div>
                    <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3">
                        <span>Tháng 6</span><br />
                        <input type="text" style="width:100%" ng-model="thang6_add" />
                    </div>
                    <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3">
                        <span>Tháng 7</span><br />
                        <input type="text" style="width:100%" ng-model="thang7_add" />
                    </div>
                    <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3">
                        <span>Tháng 8</span><br />
                        <input type="text" style="width:100%" ng-model="thang8_add" />
                    </div>

                </div>
                <div class="row" style="margin-top:25px;">

                    <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3">
                        <span>Tháng 9</span><br />
                        <input type="text" style="width:100%" ng-model="thang9_add" />
                    </div>
                    <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3">
                        <span>Tháng 10</span><br />
                        <input type="text" style="width:100%" ng-model="thang10_add" />
                    </div>
                    <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3">
                        <span>Tháng 11</span><br />
                        <input type="text" style="width:100%" ng-model="thang11_add"/>
                    </div>
                    <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3">
                        <span>Tháng 12</span><br />
                        <input type="text" style="width:100%" ng-model="thang12_add"/>
                    </div>

                </div>
                    </form>
            </div>

            @*end table*@
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="LuuBtn"  ng-click="Save()" data-dismiss="modal">Lưu lại</button>
                <button type="button" class="btn btn-primary" id="LuuVaThemBtn" ng-click="LuuVaThemNhanVien()">Lưu & thêm</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Đóng</button>
            </div>
        </div>

    </div>
</div>





